node{
    def mavenhome = tool name: "3.8.7"
//checkout code stage 
stage ('checkoutcode'){
git credentialsId: 'da4c53e5-ffa1-4f06-afba-b7114a0a7be1', url: 'https://github.com/Nanda-nandu/maven-web-application.git'}

//build
stage('build'){
sh "${mavenhome}/bin/mvn clean package"
/*
}
//Execute sonarQube Report
stage('Execute sonarQube Report'){
sh "${mavenhome}/bin/mvn sonar:sonar"
}

//UploadArtifacts Into Nexus
stage('UploadArtifacts Into Nexus'){

sh "${mavenhome}/bin/mvn deploy"
}

//deploy App intoTomcat Server
stage('DeployApp'){
sshagent(['2dd88080-4a99-4e8b-a17c-8ffc65aeaeaf']) {
    sh "scp -o StrictHostKeyChecking=no target/maven-web-application.war ec2-user@172.31.7.34:/opt/apache-tomcat-10.1.5/webapps/"
    
}
}
*/

}//node closing
